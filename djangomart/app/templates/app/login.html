{% extends "app/base.html" %}
{% load static %}
{% block title %}User Login{% endblock title %}
{% block main-content %}

<div class="container form-container">
    <div class="login-form">
        <h3 class="text-center mb-4">User Login</h3>
        <form method="post" novalidate class="shadow p-5 mx-auto w-50">
            {% csrf_token %}
            <div class="mb-2">
                {{ form.username.label_tag }}
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="text-danger">
                        {{ form.username.errors }}
                    </div>
                {% endif %}
            </div>
            <div class="mb-2">
                {{ form.password.label_tag }}  <!-- Corrected: Use `form.password` instead of `form.password1` -->
                {{ form.password }}
                {% if form.password.errors %}
                    <div class="text-danger">
                        {{ form.password.errors }}
                    </div>
                {% endif %}
            </div>
            <div class="d-grid">
                <button type="submit" class="btn btn-success btn-lg">Login</button>
                <br>
                <small><a href={% url 'password_reset' %}>Forgot Password ? </a></small> <br>
                <div class='text-center text-primary fw-bold'>
                    <small>Don't have an account? <a href="{% url 'customerregistration' %}" class="text-danger">Register Now</a></small>
                </div>
            </div>
            <input type="hidden" name="next" value="{% url 'profile' %}">  
            {% if form.non_field_errors %}
                {% for error in form.non_field_errors %}
                    <p class="alert alert-danger my-3">{{ error }}</p>
                {% endfor %}
            {% endif %}
        </form>
    </div>
</div>

{% endblock main-content %}
